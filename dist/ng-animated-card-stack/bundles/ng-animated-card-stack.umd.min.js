!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-animated-card-stack",["exports","@angular/core","rxjs","rxjs/operators"],t):t(e["ng-animated-card-stack"]={},e.ng.core,e.rxjs,e.rxjs.operators)}(this,function(e,t,r,o){"use strict";var n=function(){function e(){this._destroy$=new r.Subject,this.destroy$=this._destroy$.asObservable(),this._destroyed$=new r.Subject,this.destroyed$=this._destroyed$.asObservable()}return e.prototype.destroy=function(t,e){var n=this;return this._destroy$.next(t),r.of(t).pipe(o.delay(e),o.tap(function(e){return n._destroyed$.next(t)}))},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(e,t,n){this.stackSrv=e,this.elemRef=t,this.renderer=n,this.delay=400}return e.prototype.ngAfterViewInit=function(){this.renderer.setStyle(this.elemRef.nativeElement,"transition",this.delay+"ms transform")},e.prototype.destroy=function(){return this.renderer.setStyle(this.elemRef.nativeElement,"visibility","hidden"),this.stackSrv.destroy(this.id,this.delay)},e.prototype.getPosition=function(){return this.elemRef.nativeElement.getBoundingClientRect()},e.prototype.getElement=function(){return this.elemRef.nativeElement},e.decorators=[{type:t.Component,args:[{selector:"x-animated-card",template:"<ng-content></ng-content>",changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[""]}]}],e.ctorParameters=function(){return[{type:n},{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={id:[{type:t.Input}]},e}(),i=function(){function e(e,t,n){this.stackSrv=e,this.renderer=t,this.elemRef=n}return e.prototype.ngAfterViewInit=function(){var a=this;this.stackSrv.destroy$.subscribe(function(t){for(var e=a.cards.map(function(e){return e}).filter(function(e){return!e.deleted}),n=e.findIndex(function(e){return e.id===t})+1;n<e.length;n++){var r=e[n],o=e[n-1].getPosition(),s=r.getPosition();a.applyTranslation(r.getElement(),o,s)}}),this.stackSrv.destroyed$.subscribe(function(t){var e=a.cards.map(function(e){return e}),n=e.findIndex(function(e){return e.id===t}),r=e[n],o=r.getElement();r.deleted=!0,a.renderer.setStyle(o,"display","none");for(var s=n+1;s<e.length;s++){var i=e[s].getElement();a.renderer.setStyle(i,"transform","none"),a.renderer.setStyle(i,"transition","none")}})},e.prototype.applyTranslation=function(e,t,n){var r=t.x-n.x,o=t.y-n.y;this.renderer.setStyle(e,"transition","300ms transform"),this.renderer.setStyle(e,"transform","translate3d("+r+"px, "+o+"px, 0)")},e.decorators=[{type:t.Component,args:[{selector:"x-animated-stack",template:'<ng-content select="x-animated-card"></ng-content>',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[n],styles:[""]}]}],e.ctorParameters=function(){return[{type:n},{type:t.Renderer2},{type:t.ElementRef}]},e.propDecorators={cards:[{type:t.ContentChildren,args:[s]}]},e}(),a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[],declarations:[i,s],exports:[i,s]}]}],e}();e.AnimatedStackService=n,e.AnimatedCardComponent=s,e.AnimatedStackComponent=i,e.AnimatedCardStackModule=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-animated-card-stack.umd.min.js.map